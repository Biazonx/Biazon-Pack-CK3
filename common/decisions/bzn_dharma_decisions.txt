#######################################
# General Decisions
#######################################

bzn_legendary_raja = {
    picture = {
        reference = "gfx/interface/illustrations/decisions/dharma_decision_chakravatin.dds"
    }
    decision_group_type = become_medium
	sort_order = 1
    ai_check_interval = 0
    is_shown = {
        NOT = { has_trait = raja }
		OR = {
			religion = religion:hinduism_religion
			religion = religion:jainism_religion
			faith = faith:theravada
			faith = faith:mahayana
			faith = faith:vajrayana
			faith = faith:ari
		}
    }
    is_valid = {
        prestige_level >= 4
		piety_level >= 5
		OR = {
			religion = religion:hinduism_religion
			religion = religion:jainism_religion
			faith = faith:theravada
			faith = faith:mahayana
			faith = faith:vajrayana
			faith = faith:ari
		}
	}
    desc = bzn_legendary_raja_desc
    cost = { piety = 1000 prestige = 500 }
    effect = {
        add_trait = raja
		dynasty = { add_dynasty_prestige = 500 }
    }
    ai_potential = {
        always = no
    }
    ai_will_do = {
        base = 0
    }
}

bzn_tiger_slayer = {
    picture = {
        reference = "gfx/interface/illustrations/decisions/decision_kumari.dds"
    }
    decision_group_type = become_medium
	sort_order = 2
    ai_check_interval = 0
    is_shown = {
        NOT = { has_trait = tiger_slayer }
		OR = {
			religion = religion:hinduism_religion
			religion = religion:jainism_religion
			religion = religion:buddhism_religion 
			religion = religion:bon_religion 
			religion = religion:confucianism_religion
		}
    }
    is_valid = {
        martial >= 15
		prowess >= 12
		prestige_level >= 4
		
		OR = {
			religion = religion:hinduism_religion
			religion = religion:jainism_religion
			religion = religion:buddhism_religion 
			religion = religion:bon_religion 
			religion = religion:confucianism_religion
		}
	}
    desc = bzn_tiger_slayer_desc
    cost = { prestige = 1000 }
    effect = {
        add_trait = tiger_slayer
    }
    ai_potential = {
        always = no
    }
    ai_will_do = {
        base = 0
    }
}

bzn_ascetic_king = {
    picture = {
        reference = "gfx/interface/illustrations/decisions/decision_buddhist_retreat.dds"
    }
    decision_group_type = become_medium
	sort_order = 3
    ai_check_interval = 0
    is_shown = {
        NOT = { has_trait = ascetic_king }
		OR = {
			religion = religion:hinduism_religion
			religion = religion:jainism_religion
			religion = religion:buddhism_religion
			religion = religion:taoism_religion
		}
    }
    is_valid = {
		piety_level >= 4
		NOT = { has_trait = gluttonous }
		NOT = { has_trait = greedy }
		OR = {
			religion = religion:hinduism_religion
			religion = religion:jainism_religion
			religion = religion:buddhism_religion
			religion = religion:taoism_religion
		}
	}
	
    desc = bzn_ascetic_king_desc
    cost = { piety = 1000 }
    effect = {
        add_trait = ascetic_king
    }
    ai_potential = {
        always = no
    }
    ai_will_do = {
        base = 0
    }
}

dharma_found_delhi_city = {# found the city of Delhi
	picture = { reference = "gfx/interface/illustrations/decisions/decision_moorish_decor.dds" }
	decision_group_type = regional_major
	desc = dharma_found_delhi_city_desc

	ai_check_interval = 120

	is_shown = {
		is_landed = yes
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:dharma_found_delhi_city_flag
			}
		}
		has_title = title:c_delhi
	}
	is_valid = {
		has_title = title:c_delhi
		highest_held_title_tier >= tier_duchy
		prestige_level >= 3

	}
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	cost = { 
		gold = { value = major_gold_value }
		piety = { value = major_piety_value }
	}	

	ai_potential = {
		always = yes
	}

	effect = {
		save_scope_as = delhi_city_founder
		#Can only happen once
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:dharma_found_delhi_city_flag
		}
		show_as_tooltip = {	dharma_found_delhi_city_effect = yes }
		trigger_event = dharma_gujar.002
	}

	ai_will_do = {
		base = 100
	}
}
#######################################
# Select Personal diety
#######################################
select_personal_deity_tibet_decision = {# Tibetan Gods and Goddesses	
	picture = {
		reference = "gfx/interface/illustrations/decisions/tibetan_deities.dds"
	}
	decision_group_type = tibetan_medium

	desc = select_personal_deity_tibet_decision_desc
	selection_tooltip = select_personal_yidam_decision_tooltip

	is_shown = {
		OR = {
			religion = religion:bon_religion
			faith = faith:lamaism
		}
	}

	is_valid = {

	}

	is_valid_showing_failures_only = {
	}

	effect = {
		custom_tooltip = select_personal_yidam_decision_tt
		trigger_event = dharma_buddhism.200
	}

	ai_check_interval = 96
	cooldown = { months = 36 }	

	ai_potential = {
		piety >= minor_piety_value
		NOR = {
			# Bon Tibetan Deities
			has_character_modifier = buddhist_deity_sipe_gyalmo # Sipe Gyalmo
			has_character_modifier = buddhist_deity_shenlha_okar # Shenlha Okar
			has_character_modifier = buddhist_deity_tonpa_shenrab # Tonpa Shenrab
			has_character_modifier = buddhist_deity_yeshe_walmo # Yeshe Walmo
			has_character_modifier = buddhist_deity_takla_mebar # Takla Mebar
			has_character_modifier = buddhist_deity_Zhambala # Zhambala
			has_character_modifier = buddhist_deity_sherab_chamma # Sherab Chamma
			# Buddhist Tibetan Deities
			has_character_modifier = buddhist_deity_palden_lhamo # Palden_Lhamo
			has_character_modifier = buddhist_deity_tara # Tara
			has_character_modifier = buddhist_deity_avalokitesvara  # Avalokiteśvara 
			has_character_modifier = buddhist_deity_yamantaka # Yamantaka
			has_character_modifier = buddhist_deity_hevajra # Hevajra
			has_character_modifier = buddhist_deity_vajrayogini # Vajrayogini
		}
	}

	ai_will_do = {
		base = 100
	}
}
select_personal_nat_decision = {# Burmese Gods and Goddesses
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_personal_religious.dds"
	}
	decision_group_type = burmese_medium

	desc = select_personal_nat_decision_desc
	selection_tooltip = select_personal_nat_decision_tooltip

	is_shown = {
		OR = {
			faith = faith:ari
			AND = {
				faith = faith:theravada
				culture = { has_cultural_pillar = heritage_burman }
			}
		}
	}

	is_valid = {

	}

	is_valid_showing_failures_only = {
	}

	effect = {
		custom_tooltip = select_personal_nat_decision_tt
		trigger_event = dharma_buddhism.201
	}

	ai_check_interval = 96
	cooldown = { months = 36 }	

	ai_potential = {
		piety >= minor_piety_value
		NOR = {
			# Ari Buddhist Nats
			has_character_modifier = nat_ari_thagyamin # Thagyamin
			has_character_modifier = nat_ari_mahagiri # Mahagiri
			has_character_modifier = nat_ari_hnamadawgyi # Hnamadawgyi
			has_character_modifier = nat_ari_ponmagyi # Ponmagyi
			has_character_modifier = nat_ari_sivali # Sīvali
			has_character_modifier = nat_ari_shwe_nabay # Shwe Nabay
			# Therevada Buddhist Nats
			has_character_modifier = nat_therevada_thurathadi # Thurathadi
			has_character_modifier = nat_therevada_lokanat  # Lokanat 
			has_character_modifier = nat_therevada_panhtwar # Panhtwar
			has_character_modifier = nat_therevada_shin_upagutta # Shin Upagutta
			has_character_modifier = nat_therevada_manimekhala # Manimekhala
		}
	}

	ai_will_do = {
		base = 100
	}
}
select_personal_deity_buddhist_decision = {# Buddhist Gods and Goddesses
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_buddhist_meditation.dds"
	}
	decision_group_type = buddhist_medium

	desc = select_personal_deity_buddhist_decision_desc
	selection_tooltip = select_personal_deity_buddhist_decision_tooltip

	is_shown = {
		OR = {
			faith = faith:theravada
			faith = faith:mahayana
			faith = faith:vajrayana
		}
	}

	is_valid = {

	}

	is_valid_showing_failures_only = {
	}

	effect = {
		custom_tooltip = select_personal_meditional_deity_decision_tt
		trigger_event = dharma_buddhism.202
	}

	ai_check_interval = 96
	cooldown = { months = 36 }	

	ai_potential = {
		piety >= minor_piety_value
		NOR = {
			# Bon Tibetan Deities
			has_character_modifier = buddhist_deity_sipe_gyalmo # Sipe Gyalmo
			has_character_modifier = buddhist_deity_shenlha_okar # Shenlha Okar
			has_character_modifier = buddhist_deity_tonpa_shenrab # Tonpa Shenrab
			has_character_modifier = buddhist_deity_yeshe_walmo # Yeshe Walmo
			has_character_modifier = buddhist_deity_takla_mebar # Takla Mebar
			has_character_modifier = buddhist_deity_Zhambala # Zhambala
			has_character_modifier = buddhist_deity_sherab_chamma # Sherab Chamma
			# Buddhist Tibetan Deities
			has_character_modifier = buddhist_deity_palden_lhamo # Palden_Lhamo
			has_character_modifier = buddhist_deity_tara # Tara
			has_character_modifier = buddhist_deity_avalokitesvara  # Avalokiteśvara 
			has_character_modifier = buddhist_deity_yamantaka # Yamantaka
			has_character_modifier = buddhist_deity_hevajra # Hevajra
			has_character_modifier = buddhist_deity_vajrayogini # Vajrayogini
		}
	}

	ai_will_do = {
		base = 100
	}
}
#######################################
# Hindu Decisions
#######################################
dharma_pick_hindu_philosophy = {# Follow a Mahayana Buddhist School
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_buddhist_meditation.dds"
	}
	decision_group_type = hindu_minor

	ai_check_interval = 96
	cooldown = { months = 36 }
	desc = dharma_pick_hindu_philosophy_desc
	
	is_shown = {
		religion = religion:hinduism_religion
	}
	
	is_valid = {
		learning >= 10
		religion = religion:hinduism_religion
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		custom_tooltip = dharma_pick_hindu_philosophy_tooltip
		trigger_event = dharma_hinduism.050
	}

	ai_potential = {
		piety >= minor_piety_value
		NOR = {
			has_trait = hindu_philoosphy_yoga
			has_trait = hindu_philoosphy_samkhya
			has_trait = hindu_philoosphy_vaisheshika
			has_trait = hindu_philoosphy_mimamsa
			has_trait = hindu_philoosphy_nyaya
			has_trait = hindu_philoosphy_vishishtadvaita
			has_trait = hindu_philoosphy_advaita_vedanta
			has_trait = hindu_philoosphy_bhedabheda
			has_trait = hindu_philoosphy_dvaita_vedanta
		}
	}

	ai_will_do = {
		base = 100
	}
}

dharma_build_minor_hindu_holy_building = {# Build a minor Hindu building
	picture = { reference = "gfx/interface/illustrations/decisions/decision_dharma_hindu_temple.dds" }
	ai_check_interval = 40
	decision_group_type = hindu_minor
	cooldown = { days = 3650 }

	desc = dharma_build_minor_hindu_holy_building_desc
	selection_tooltip = dharma_build_minor_hindu_holy_building_tooltip

	is_shown = {
		highest_held_title_tier > tier_barony
		is_landed = yes
		religion = religion:hinduism_religion
	}
	
	is_valid = {
		religion = religion:hinduism_religion
		custom_description = {
			text = dharma_build_minor_hindu_holy_building_county_req
			dharma_donate_holy_site_req_trigger = yes # CHANGE
		}
		custom_description = {
			text = dharma_build_minor_hindu_holy_building_current_req
			NOT = { has_character_flag = dharma_hindu_currently_building_religious_site }
		}
	}
	
		
    widget = {
    	gui = "decision_view_widget_dharma_build_minor_hindu_holy_building"
		controller = decision_option_list_controller	
		
		#decision_has_second_step = yes
		#decision_custom_widget_container = "custom_widgets_container_step_two"
		decision_to_second_step_button = "dharma_minor_hindu_building_type" 

		item = {# Shrine
			value = dharma_build_hindu_site_shrine_option
			current_description = dharma_build_hindu_site_shrine_option_desc
			localization = dharma_build_hindu_site_shrine_option
			icon = "gfx/interface/icons/building_types/icon_building_hill_farms.dds"

			ai_chance = {
				value = 10
			}
		}
		item = {# Temple
			value = dharma_build_hindu_site_small_temple_option
			current_description = dharma_build_hindu_site_small_temple_option_desc
			localization = dharma_build_hindu_site_small_temple_option
			icon = "gfx/interface/icons/building_types/icon_building_generic_house.dds"

			ai_chance = {
				value = 10
			}
		}
		item = {# Small Monastery
			value = dharma_build_hindu_site_small_monastery_option
			current_description = dharma_build_hindu_site_small_monastery_option_desc
			localization = dharma_build_hindu_site_small_monastery_option
			icon = "gfx/interface/icons/building_types/icon_building_monastic_schools.dds"

			ai_chance = {
				value = 10
			}
		}
		item = {# Large Temple
			value = dharma_build_hindu_site_large_temple_option
			current_description = dharma_build_hindu_site_large_temple_option_desc
			localization = dharma_build_hindu_site_large_temple_option
			icon = "gfx/interface/icons/building_types/icon_structure_brihadeeswarar_temple.dds"

			ai_chance = {
				value = 10
			}
		}
		item = {# Large Monastary
			value = dharma_build_hindu_site_large_monastery_option
			current_description = dharma_build_hindu_site_large_monastery_option_desc
			localization = dharma_build_hindu_site_large_monastery_option
			icon = "gfx/interface/icons/building_types/icon_structure_nalanda.dds"

			ai_chance = {
				value = 10
			}
		}
	}

	effect = {

		custom_tooltip = dharma_build_minor_hindu_holy_building_effect_tooltip_1
		custom_tooltip = dharma_build_minor_hindu_holy_building_effect_tooltip_2
		# Not sure why AI can't pick one option or another
		if = {
			limit = { is_ai = yes }
			random_list = {
				10 = {
					set_variable = {
						name = dharma_hindu_building_type
						value = flag:shrine
					}
				}
				10 = {
					set_variable = {
						name = dharma_hindu_building_type
						value = flag:small_temple
					}
				}
				10 = {
					set_variable = {
						name = dharma_hindu_building_type
						value = flag:small_monastery
					}
				}
				10 = {
					set_variable = {
						name = dharma_hindu_building_type
						value = flag:large_temple
					}
				}
				10 = {
					set_variable = {
						name = dharma_hindu_building_type
						value = flag:large_monastery
					}
				}
			}
		}
		else_if = {
			limit = {
				scope:dharma_build_hindu_site_shrine_option = yes
			}
			set_variable = {
				name = dharma_hindu_building_type
				value = flag:shrine
			}
		}
		else_if = {
			limit = {
				scope:dharma_build_hindu_site_small_temple_option = yes
			}
			set_variable = {
				name = dharma_hindu_building_type
				value = flag:small_temple
			}
		}
		else_if = {
			limit = {
				scope:dharma_build_hindu_site_small_monastery_option = yes
			}
			set_variable = {
				name = dharma_hindu_building_type
				value = flag:small_monastery
			}
		}
		else_if = {
			limit = {
				scope:dharma_build_hindu_site_large_temple_option = yes
			}
			set_variable = {
				name = dharma_hindu_building_type
				value = flag:large_temple
			}
		}
		else_if = {
			limit = {
				scope:dharma_build_hindu_site_large_monastery_option = yes
			}
			set_variable = {
				name = dharma_hindu_building_type
				value = flag:large_monastery
			}
		}		
		
		trigger_event = dharma_hinduism.011
	}

	minimum_cost = { 
		gold = { value = dharma_build_small_holy_site_cost } # Will depend
	}	

	ai_potential = {
		short_term_gold > dharma_build_medium_holy_site_cost
	}

	ai_will_do = {
		base = 35
		modifier = {
			add = 5
			has_trait = zealous
		}
		modifier = {
			add = -15
			has_trait = cynical
		}
	}
}
#######################################
# Buddhist Decisions
#######################################
dharma_adopt_mahayana_school = {# Follow a Mahayana Buddhist School
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_buddhist_meditation.dds"
	}
	decision_group_type = buddhist_minor

	ai_check_interval = 96
	cooldown = { months = 36 }
	desc = dharma_adopt_mahayana_school_desc
	
	is_shown = {
		faith = faith:mahayana
	}
	
	is_valid = {
		learning >= 10
		faith = faith:mahayana
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		custom_tooltip = dharma_adopt_mahayana_school_tooltip
		trigger_event = dharma_buddhism.050
	}

	ai_potential = {
		piety >= minor_piety_value
		NOR = {
			has_trait = buddhist_school_pure_land
			has_trait = buddhist_school_yogachara
			has_trait = buddhist_school_madhyamaka
			has_trait = buddhist_school_chan
		}
	}

	ai_will_do = {
		base = 80
	}
}

dharma_adopt_tibetan_school = {# Follow a Tibetan Buddhist School
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_buddhist_meditation.dds"
	}
	decision_group_type = buddhist_minor

	ai_check_interval = 96
	cooldown = { months = 36 }
	desc = dharma_adopt_tibetan_school_desc
	
	is_shown = {
		faith = faith:lamaism
	}
	
	is_valid = {
		learning >= 10
		faith = faith:lamaism
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		custom_tooltip = dharma_adopt_tibetan_school_tooltip
		trigger_event = dharma_buddhism.051
	}

	ai_potential = {
		piety >= minor_piety_value
		NOR = {
			has_trait = buddhist_school_nyingma
			has_trait = buddhist_school_kadam
			has_trait = buddhist_school_sakya
			has_trait = buddhist_school_kagyu
		}
	}

	ai_will_do = {
		base = 80
	}
}
#######################################
# Jain Decisions
#######################################
dharma_jain_abdication = {# Abdicate and become a monk
	picture = {
		reference = "gfx/interface/illustrations/decisions/dharma_decision_jain_holy_day.dds"
	}
	decision_group_type = jain_major	
	
	desc = dharma_jain_abdication_desc
	selection_tooltip = dharma_jain_abdication_tooltip

	is_shown = {
		religion = religion:jainism_religion
		is_landed = yes
		is_at_war = no
	}

	is_valid = {
		religion = religion:jainism_religion
		is_landed = yes
		is_at_war = no
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
	custom_tooltip = {
		text = aimm_abdicate_effect
	}
		trigger_event = dharma_jainism.010
	}

	ai_check_interval = 240

	ai_potential = {
		piety >= major_piety_value
	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 10
			age >= 60
		}
	}
}

dharma_sponsor_jain_sangha_decision = { # Fund Jain monks and scholars
	picture = {
		reference = "gfx/interface/illustrations/decisions/dharma_decision_jain_festival.dds"
	}
	decision_group_type = jain_major
	
	cooldown = { years = 5 }
	
	desc = dharma_sponsor_jain_sangha_decision_desc
	
	is_shown = {
		religion = religion:jainism_religion
		is_landed = yes
		is_at_war = no
	}

	is_valid = {
		religion = religion:jainism_religion
		is_landed = yes
		is_at_war = no
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		add_piety = 250
		add_learning_lifestyle_xp = 300
		capital_county = {
			set_county_faith = root.faith
			change_development_level = { value = 1 }
		}
	}
	
	cost = { gold = 75 }

	ai_check_interval = 240

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 50
	}
}


### Find a New Faith for India ###
adopt_a_new_faith_for_india_decision = {
	ai_check_interval_by_tier = {
		barony = 0
		county = 36
		duchy = 12
		kingdom = 12
		empire = 12
		hegemony = 12
	}
	picture = {
		reference = "gfx/interface/illustrations/decisions/fp3/fp3_decision_foundation.dds"
	}
	decision_group_type = regional_major
	
	cooldown = { years = 30 }

	is_shown = {
		is_landed = yes
		any_held_title = {
			tier = tier_county
			title_province = { geographical_region = world_india }
        }
	}
	
	is_valid_showing_failures_only = {
	}

	is_valid = {
	}
	
	widget = {
		gui = "decision_view_widget_generic_multichoice_with_effects"
		controller = decision_option_list_controller
		decision_to_second_step_button = "CHOOSE_INDIAN_FAITH"
		show_from_start = yes
		
		### ismaili
		item = {
			value = choose_ismaili
			is_valid = {
				NOT = { faith = faith:ismaili }
			}
			current_description = choose_ismaili_desc
			localization = choose_ismaili_name
			icon = "gfx/interface/icons/faith/shia.dds"
			ai_chance = {
				value = 10
				if = {
					limit = {
						any_sub_realm_county = {
							faith = faith:ismaili
						}
					}
					add = 10
				}
			}
		}
		
		### maulvi
		item = {
			value = choose_maulvi
			is_valid = {
				NOT = { faith = faith:maulvi }
			}
			current_description = choose_maulvi_desc
			localization = choose_maulvi_name
			icon = "gfx/interface/icons/faith/maulvi.dds"
			ai_chance = {
				value = 10
				if = {
					limit = {
						any_held_title = {
							tier = tier_county
							title_province = { geographical_region = world_india_pakistan }
						}
					}
					add = 40
				}
				if = {
					limit = {
						any_sub_realm_county = {
							faith = faith:maulvi
						}
					}
					add = 10
				}
			}
		}
		### malabarism
		item = {
			value = choose_malabarism
			is_valid = {
				NOT = { faith = faith:malabarism }
			}
			current_description = choose_malabarism_desc
			localization = choose_malabarism_name
			icon = "gfx/interface/icons/faith/malabarism.dds"
			ai_chance = {
				value = 10
				if = {
					limit = {
						any_sub_realm_county = {
							faith = faith:malabarism
						}
					}
					add = 10
				}
				if = {
					limit = { culture = { has_cultural_pillar = heritage_israelite } }
					add = 50
				}
			}
		}
		### nestorian
		item = {
			value = choose_nestorian
			is_valid = {
				NOT = { faith = faith:nestorian }
			}
			current_description = choose_nestorian_desc
			localization = choose_nestorian_name
			icon = "gfx/interface/icons/faith/nestorian.dds"
			ai_chance = {
				value = 10
				if = {
					limit = {
						any_sub_realm_county = {
							faith = faith:nestorian
						}
					}
					add = 10
				}
			}
		}
		### shaivism
		item = {
			value = choose_shaivism
			is_valid = {
				NOT = { faith = faith:shaivism }
			}
			current_description = choose_shaivism_desc
			localization = choose_shaivism_name
			icon = "gfx/interface/icons/faith/shaivism.dds"
			ai_chance = {
				value = 10
				if = {
					limit = {
						any_sub_realm_county = {
							faith = faith:shaivism
						}
					}
					add = 10
				}
			}
		}

		### vaishnavism
		item = {
			value = choose_vaishnavism
			is_valid = {
				NOT = { faith = faith:vaishnavism }
			}
			current_description = choose_vaishnavism_desc
			localization = choose_vaishnavism_name
			icon = "gfx/interface/icons/faith/hinduism.dds"
			ai_chance = {
				value = 10
				if = {
					limit = {
						any_sub_realm_county = {
							faith = faith:vaishnavism
						}
					}
					add = 10
				}
			}
		}
		
		### svetambara
		item = {
			value = choose_svetambara
			is_valid = {
				NOT = { faith = faith:svetambara }
			}
			current_description = choose_svetambara_desc
			localization = choose_svetambara_name
			icon = "gfx/interface/icons/faith/svetambara.dds"
			ai_chance = {
				value = 10
				if = {
					limit = {
						any_sub_realm_county = {
							faith = faith:svetambara
						}
					}
					add = 10
				}
			}
		}
		### vajrayana
		item = {
			value = choose_vajrayana
			is_valid = {
				NOT = { faith = faith:vajrayana }
			}
			current_description = choose_vajrayana_desc
			localization = choose_vajrayana_name
			icon = "gfx/interface/icons/faith/vajrayana.dds"
			ai_chance = {
				value = 10
				if = {
					limit = {
						any_sub_realm_county = {
							faith = faith:vajrayana
						}
					}
					add = 10
				}
			}
		}
		### mahayana 
		item = {
			value = choose_mahayana
			is_valid = {
				NOT = { faith = faith:mahayana }
			}
			current_description = choose_mahayana_desc
			localization = choose_mahayana_name
			icon = "gfx/interface/icons/faith/mahayana.dds"
			ai_chance = {
				value = 10
				if = {
					limit = {
						any_held_title = {
							tier = tier_county
							title_province = { geographical_region = world_india_bengal }
						}
					}
					add = 20
				}
				if = {
					limit = {
						any_sub_realm_county = {
							faith = faith:mahayana
						}
					}
					add = 10
				}
			}
		}
		### theravada 
		item = {
			value = choose_theravada
			is_valid = {
				NOT = { faith = faith:theravada }
			}
			current_description = choose_theravada_desc
			localization = choose_theravada_name
			icon = "gfx/interface/icons/faith/buddhism.dds"
			ai_chance = {
				value = 10
				if = {
					limit = {
						any_held_title = {
							tier = tier_county
							title_province = { geographical_region = custom_lanka }
						}
					}
					add = 20
				}
				if = {
					limit = {
						any_sub_realm_county = {
							faith = faith:theravada
						}
					}
					add = 10
				}
			}
		}
	}
	
	effect = {
		if = {
			limit = { scope:choose_ismaili = yes }
			capital_county = { set_county_faith = faith:ismaili }
			show_as_tooltip = { set_character_faith = faith:ismaili }
			hidden_effect = {
				set_character_faith_with_conversion = faith:ismaili
			}
			faith:ismaili = {
				change_fervor = {
					value = 15
					desc = fervor_gain_persian_fervor
				}
			}
		}
		if = {
			limit = { scope:choose_maulvi = yes }
			capital_county = { set_county_faith = faith:maulvi }
			show_as_tooltip = { set_character_faith = faith:maulvi }
			hidden_effect = {
				set_character_faith_with_conversion = faith:maulvi
			}
			faith:maulvi = {
				change_fervor = {
					value = 15
					desc = fervor_gain_persian_fervor
				}
			}
		}
		else_if = {
			limit = { scope:choose_malabarism = yes  }
			capital_county = { set_county_faith = faith:malabarism }
			show_as_tooltip = { set_character_faith = faith:malabarism }
			hidden_effect = {
				set_character_faith_with_conversion = faith:malabarism
			}
			faith:malabarism = {
				change_fervor = {
					value = 15
					desc = fervor_gain_persian_fervor
				}
			}
		}
		else_if = {
			limit = { scope:choose_nestorian = yes  }
			capital_county = { set_county_faith = faith:nestorian }
			show_as_tooltip = { set_character_faith = faith:nestorian }
			hidden_effect = {
				set_character_faith_with_conversion = faith:nestorian
			}
			faith:nestorian = {
				change_fervor = {
					value = 15
					desc = fervor_gain_persian_fervor
				}
			}
		}
		else_if = {
			limit = { scope:choose_shaivism = yes  }
			capital_county = { set_county_faith = faith:shaivism }
			show_as_tooltip = { set_character_faith = faith:shaivism }
			hidden_effect = {
				set_character_faith_with_conversion = faith:shaivism
			}
			faith:shaivism = {
				change_fervor = {
					value = 15
					desc = fervor_gain_persian_fervor
				}
			}
		}
		else_if = {
			limit = { scope:choose_vaishnavism = yes  }
			capital_county = { set_county_faith = faith:vaishnavism }
			show_as_tooltip = { set_character_faith = faith:vaishnavism }
			hidden_effect = {
				set_character_faith_with_conversion = faith:vaishnavism
			}
			faith:vaishnavism = {
				change_fervor = {
					value = 15
					desc = fervor_gain_persian_fervor
				}
			}
		}
		else_if = {
			limit = { scope:choose_svetambara = yes  }
			capital_county = { set_county_faith = faith:svetambara }
			show_as_tooltip = { set_character_faith = faith:svetambara }
			hidden_effect = {
				set_character_faith_with_conversion = faith:svetambara
			}
			faith:svetambara = {
				change_fervor = {
					value = 15
					desc = fervor_gain_persian_fervor
				}
			}
		}
		else_if = {
			limit = { scope:choose_vajrayana = yes  }
			capital_county = { set_county_faith = faith:vajrayana }
			show_as_tooltip = { set_character_faith = faith:vajrayana }
			hidden_effect = {
				set_character_faith_with_conversion = faith:vajrayana
			}
			faith:vajrayana = {
				change_fervor = {
					value = 15
					desc = fervor_gain_persian_fervor
				}
			}
		}
		else_if = {
			limit = { scope:choose_mahayana = yes  }
			capital_county = { set_county_faith = faith:mahayana }
			show_as_tooltip = { set_character_faith = faith:mahayana }
			hidden_effect = {
				set_character_faith_with_conversion = faith:mahayana
			}
			faith:mahayana = {
				change_fervor = {
					value = 15
					desc = fervor_gain_persian_fervor
				}
			}
		}
		else_if = {
			limit = { scope:choose_theravada = yes  }
			capital_county = { set_county_faith = faith:theravada }
			show_as_tooltip = { set_character_faith = faith:theravada }
			hidden_effect = {
				set_character_faith_with_conversion = faith:theravada
			}
			faith:theravada = {
				change_fervor = {
					value = 15
					desc = fervor_gain_persian_fervor
				}
			}
		}
		capital_county = {
			add_county_modifier = {
				modifier = religious_settler_influx
				years = 25
			}
		}
	}
	
	cost = {
		piety = {
			value = major_piety_value
		}
	}
	
	ai_potential = {
		highest_held_title_tier >= tier_county
		is_landed = yes
		is_at_war = no
	}

	ai_will_do = {
		base = 20
		
		modifier = {
			add = {
				value = ai_zeal
				multiply = -0.5
			}
		}
		
		modifier = {
			add = -20
			has_trait = craven
		}
		
		modifier = {
			add = 20
			has_trait = ambitious
		}
	}
}
