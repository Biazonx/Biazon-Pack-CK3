# standard costs
@maa_buy_cost = 180
@maa_low_maintenance_cost = 0.7
@maa_high_maintenance_cost = 2.1

@heavy_infantry_buy_cost = 120


@light_cavalry_recruitment_cost = 90
@light_cavalry_low_maint_cost = 0.35
@light_cavalry_high_maint_cost = @[light_cavalry_low_maint_cost * high_maint_mult]

@cultural_maa_extra_ai_score = 60 # Equivalent to having 6 extra regiments beyond what the code scoring would indicate (see NEGATIVE_SCORE_PER_EXISTING_REGIMENT)

panzerreiter = {
	type = heavy_cavalry
	
	damage = 90
	toughness = 30
	pursuit = 10
	screen = 0
	
	terrain_bonus = {
		plains = { damage = 20 }
		drylands = { damage = 20 }
		farmlands = { damage = 20 }
		hills = { damage = -20 }
		mountains = { damage = -75 }
		desert_mountains = { damage = -75 }
		wetlands = { damage = -75 toughness = -10 pursuit = -10 }
		jungle = { damage = -75 toughness = -10 pursuit = -10 }
	}

	counters = {
		archers = 1
		gunpowder = 1
	}
	
	can_recruit = {
    culture = { 
        has_cultural_parameter = unlock_maa_panzerreiter 
		}
		NOR = {
			government_has_flag = government_is_nomadic
			government_has_flag = government_is_herder
		}
	}
	
	winter_bonus = {
		normal_winter = { damage = -15 toughness = -5 }
		harsh_winter = { damage = -25 toughness = -10 }
	}

	buy_cost = { gold = conrois_recruitment_cost }
	low_maintenance_cost = { gold = conrois_low_maint_cost }
	high_maintenance_cost = { gold = conrois_high_maint_cost }
	provision_cost = @provisions_cost_cavalry_cheap
	
	stack = 50
	ai_quality = { value = @cultural_maa_extra_ai_score }
	icon = dutch_knight
	illustration = "frank_knight"
}

druzhina = {
	type = light_cavalry
	
	damage = 50
	toughness = 30
	pursuit = 20
	screen = 30
	
	terrain_bonus = {
		plains = { damage = 10 }
		drylands = { damage = 10 }
		forests = { damage = 10 toughness = 10  }
		taiga = { damage = 10 toughness = 10 }
		hills = { damage = -5 pursuit = -10 }
		mountains = { damage = -10 pursuit = -20 }
		desert_mountains = { damage = -15 pursuit = -20 }
		wetlands = { damage = -10 toughness = -5 pursuit = -20 screen = -20 }
		jungle = { damage = -10 toughness = -5 pursuit = -20 screen = -20 }
	}

	
	counters = {
		archers = 1
	}

	can_recruit = {
		valid_for_maa_trigger = { PARAMETER = unlock_maa_druzhina }
		NOT = {
			culture = { has_cultural_parameter = strength_in_numbers_heavy_maa_ban }
		}
		NOR = {
			government_has_flag = government_is_nomadic
			government_has_flag = government_is_herder
		}
	}
	
	buy_cost = { gold = ayrudzi_recruitment_cost }
	low_maintenance_cost = { gold = ayrudzi_low_maint_cost }
	high_maintenance_cost = { gold = ayrudzi_high_maint_cost }
	provision_cost = @provisions_cost_cavalry_cheap
	
	stack = 50
	ai_quality = {
		value = @cultural_maa_extra_ai_score
		add = counter_synergy_ai_weight_light_cavalry
	}
	icon = mlada_druzina
	illustration = "mlada_druzina"
}


paladin = {
    type = heavy_infantry

	damage = 42
	toughness = 24
	pursuit = 10
	screen = 0

    terrain_bonus = {
        farmlands = { damage = 6 toughness = 4 }
        plains = { damage = 6 toughness = 4 }
	}
	
    counters = {
		pikemen = 1
		peasant_militia = 2
    }
	
	can_recruit = {
		culture = { 
			has_cultural_parameter = unlock_maa_paladin
		}
		NOR = {
			government_has_flag = government_is_nomadic
			government_has_flag = government_is_herder
		}
    }

    buy_cost = { gold = samurai_recruitment_cost }
    low_maintenance_cost = { gold = samurai_low_maint_cost }
    high_maintenance_cost = { gold = samurai_high_maint_cost }
	provision_cost = @provisions_cost_infantry_expensive

    stack = 100
    ai_quality = { value = @cultural_maa_extra_ai_score }
    icon = french_heavy_infantry
	illustration = "french_heavy_infantry"
}

condottieri = {
    type = heavy_infantry

	damage = 40
	toughness = 30
	pursuit = 0
	screen = 30
	
    counters = {
		pikemen = 1
		peasant_militia = 2
    }
	
	can_recruit = {
		culture = { 
			has_cultural_parameter = unlock_maa_condottieri
		}
		NOR = {
			government_has_flag = government_is_nomadic
			government_has_flag = government_is_herder
		}
    }
	
    buy_cost = { gold = druzhina_recruitment_cost }
    low_maintenance_cost = { gold = druzhina_low_maint_cost }
    high_maintenance_cost = { gold = druzhina_high_maint_cost }
	provision_cost = @provisions_cost_infantry_moderate

    stack = 100
    ai_quality = { value = @cultural_maa_extra_ai_score }
    icon = italian_heavy_infantry
	illustration = "italian_heavy_infantry"
}

hussite_wagon = {
	type = siege_weapon
	
	damage = 100
    toughness = 100
    pursuit = 0
    screen = 0
	
	siege_value = 0.3
	
	counters = {
        heavy_cavalry = 1
        skirmishers = 1
    }
	
	terrain_bonus = {
        plains = { damage = 10 }
		drylands = { damage = 10 }	
		hills = { damage = -30 toughness = -20 }
		wetlands = { damage = -30 toughness = -20 }	
		mountains = { damage = -40 toughness = -20  }		
		desert_mountains = { damage = -40 toughness = -20  }		
	}	

	can_recruit = {
		culture = { 
			has_cultural_parameter = unlock_maa_hussite
		}
		NOR = {
			government_has_flag = government_is_nomadic
			government_has_flag = government_is_herder
		}
	}

	buy_cost = { gold = 250 }
	low_maintenance_cost = { gold = 0.7 }
	high_maintenance_cost = { gold = 2.1 }
	provision_cost = @provisions_cost_cavalry_expensive
	stack = 50
	icon = bohemian_war_wagon
	ai_quality = { value = @cultural_maa_extra_ai_score }
	allowed_in_hired_troops = no 
}

slavic_boyar = {
	type = heavy_cavalry
	
	damage = 100
	toughness = 25
	pursuit = 10
	screen = 0
	
	terrain_bonus = {
		plains = { damage = 30 }
		drylands = { damage = 30 }
		hills = { damage = -25 }
		mountains = { damage = -70 }
		desert_mountains = { damage = -70 }
		wetlands = { damage = -65 toughness = -5 pursuit = -5 }
	}

	counters = {
		heavy_cavalry = 1
		light_cavalry = 1
		gunpowder = 1
	}

	winter_bonus = {
		normal_winter = { damage = 15 toughness = 10 }
		harsh_winter = { damage = 10 toughness = 10 }
	}

	buy_cost = { gold = cataphract_recruitment_cost }
	low_maintenance_cost = { gold = cataphract_low_maint_cost }
	high_maintenance_cost = { gold = cataphract_high_maint_cost }
	provision_cost = @provisions_cost_cavalry_bankrupting
	
	stack = 50
	ai_quality = { value = @cultural_maa_extra_ai_score }
	icon = slavic_boyar
	fallback_in_hired_troops_if_unlocked = yes
}